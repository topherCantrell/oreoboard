<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>NeoPixel 5858</title>
    <script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>    
  </head>
  
  <body>
  
  <h1>Bottom</h1>
  <svg id="oreoZoe_D1" width="1100" height="280"></svg>
  <br>
  <textarea id="code_D1" style="width:100ch;height:60ch">
  
function init() {

  // The D1 area is the bottom of the robot
  configure(out=D1,length=142,hasWhite=true)
	
  var first
  var last
  var ptr
  var x
		
  var cnt
	
  // Define two colors: 0=red, 1=blue
  defineColor(color=0,W=0, R=100, G=0, B=0)      // 100% red (no white, blue, or green) 
  defineColor(color=1,W=0, R=0,   G=0, B=100)    // 100% blue (no white, red, or green)
  defineColor(color=2,W=0, R=0,   G=100, B=100)  // Green + Blue
  defineColor(color=3,W=0, R=100, G=0, B=100)    // Red + Blue
  defineColor(color=4,W=0, R=100, G=0, B=0)      // 100% red (no white, blue, or green) 
  defineColor(color=5,W=0, R=0,   G=0, B=100)    // 100% blue (no white, red, or green)
  defineColor(color=6,W=0, R=0,   G=100, B=100)  // Green + Blue
  defineColor(color=7,W=0, R=100, G=0, B=100)    // Red + Blue (again)
  
  here:
  Strip.solid(color=0);
  Pause(time=1000);
  Strip.solid(color=1);
  Pause(time=1000);
  goto(here)

}
  
function autonomous() {

  // The D1 area is the bottom of the robot. It has 228 RGBW pixels  
        
  [first] = 0
  [last] = 3
  
  here:
  
  gosub(alternate)
  pause(time=1000)
  [first] = [first] + 1
  [last] = [last] + 1
  
  if([first] < 4)
      goto(here)
      
  [first] = 0
  [last] = 3
  
  goto(here) 
 
}

function alternate() {

 [x] = 0
 [ptr] = [first]
 
 here:
 
 Strip.set(pixel=[x],color=[ptr])
 [ptr] = [ptr] + 1
 if([ptr] > [last])
   [ptr] = [first]
   
 [x] = [x] + 1
 if ([x]<228) 
   goto(here);
 
}  
  
  </textarea>  
  <br>
  <button id="stop_D1">Stop</button>   
  <button class="zoeEvent D1">INIT</button>
  <button class="zoeEvent D1" style="margin-left:2em">Autonomous</button>
  <button class="zoeEvent D1">Teleop</button>
  <button class="zoeEvent D1" style="margin-left:1em">ClimbUp</button>
  <button class="zoeEvent D1">ClimbDown</button>
  <button class="zoeEvent D1"style="margin-left:1em">DoorOpen</button>
  <button class="zoeEvent D1">DoorClose</button>
  <button class="zoeEvent D1"style="margin-left:1em">Party</button>  
  
  <hr>
  <h1>Doors</h1>
  <svg id="oreoZoe_D3" width="1100" height="130"></svg>
  <br>
  <textarea id="code_D3" style="width:100ch;height:60ch">
function init() {

  var cur  
  var cur2

  // The D3 area is the gear basket doors. It has 100 RGBW pixels (50 on each)
  configure(out=D3,length=100,hasWhite=false)
  
  defineColor(color=0,W=0, R=0, G=0, B=0)    
  defineColor(color=1,W=0, R=0,   G=100, B=100) 
  
  Strip.solid(color=0)

}

function doorOpen() {

  [cur] = 0
  [cur2] = 50

  here:
  Strip.set(pixel=[cur],color=1)
  Strip.set(pixel=[cur2],color=1)
  pause(time=10)
  [cur] = [cur] + 1
  [cur2] = [cur2] + 1
  
  if([cur]<50)
    goto(here)
      
}

function doorClose() {
  [cur] = 49
  [cur2] = 99

  here:
  Strip.set(pixel=[cur],color=0)
  Strip.set(pixel=[cur2],color=0)
  pause(time=10)
  [cur] = [cur] - 1
  [cur2] = [cur2] - 1
  
  if([cur]>=0)
    goto(here)
}
  </textarea>
  <br>  
  <button id="stop_D3">Stop</button>
  <button class="zoeEvent D3">INIT</button>
  <button class="zoeEvent D3" style="margin-left:2em">Autonomous</button>
  <button class="zoeEvent D3">Teleop</button>
  <button class="zoeEvent D3" style="margin-left:1em">ClimbUp</button>
  <button class="zoeEvent D3">ClimbDown</button>
  <button class="zoeEvent D3"style="margin-left:1em">DoorOpen</button>
  <button class="zoeEvent D3">DoorClose</button>
  <button class="zoeEvent D3"style="margin-left:1em">Party</button>  
  
  <hr>
  <h1>Grid</h1>
  <svg id="oreoZoe_D2" width="350" height="130"></svg>
  <br>
  <textarea id="code_D2" style="width:100ch;height:60ch">

function init() {

  // The D2 area is the text grid plate. It has 8x8x3 pixels.
  configure(out=D2,length=192,hasWhite=false)
  
  defineColor(color=0, W=0, R=90,  G=90,   B=90)      
  defineColor(color=1, W=0, R=0,   G=0,    B=100)    
  defineColor(color=2, W=0, R=100, G=0,    B=0)  
  defineColor(color=3, W=0, R=100, G=100,   B=0) 
  
  pattern(number=5) {
	  11111
	  1....
	  1....
	  11111
	  ....1
	  ....1
	  11111
  }

  pattern(number=8) {
	  22222
	  2...2
	  2...2
	  22222
	  2...2
	  2...2
	  22222
  }
  
  Strip.solid(color=0)
  
  Strip.pattern(x=0,y=0,pattern=5,colorOffset=0)
  Strip.pattern(x=6,y=0,pattern=8,colorOffset=0)
  Strip.pattern(x=12,y=0,pattern=5,colorOffset=0)
  Strip.pattern(x=18,y=0,pattern=8,colorOffset=1)

}

  </textarea>
  <br>
  <button id="stop_D2">Stop</button>
  <button class="zoeEvent D2">INIT</button>
  <button class="zoeEvent D2" style="margin-left:2em">Autonomous</button>
  <button class="zoeEvent D2">Teleop</button>
  <button class="zoeEvent D2" style="margin-left:1em">ClimbUp</button>
  <button class="zoeEvent D2">ClimbDown</button>
  <button class="zoeEvent D2"style="margin-left:1em">DoorOpen</button>
  <button class="zoeEvent D2">DoorClose</button>
  <button class="zoeEvent D2"style="margin-left:1em">Party</button>  
  
  <script src="ZoeProcessor.js"></script>
  <script src="neo.js"></script>
  
  </body>
  
</html>